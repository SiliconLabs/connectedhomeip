<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Building a Wi-Fi End Device for Matter in GitHub &mdash; Matter 2.3.0-1.3-beta.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom_styles.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=a9161dfc"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Building the Chip-Tool using Raspberry Pi 4" href="BUILD_PI_ENV.html" />
    <link rel="prev" title="Matter over Wi-Fi Demo Overview" href="DEMO_OVERVIEW.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #3b82f6" >

          
          
          <a href="../index.html" class="icon icon-home">
            Matter
              <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.3.0-1.3-beta.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../OVERVIEW.html">User's Guide Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NEW_FEATURES.html">Matter New Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nav_1_overview.html">Matter Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nav_2_prereq.html">Matter Development Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nav_4_thread.html">Matter Over Thread</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../nav_5_wifi.html">Matter Over Wi-Fi</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="DEMO_OVERVIEW.html">Wi-Fi Getting Started</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Wi-Fi GitHub Development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#software-setup">Software Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compiling-the-chip-tool">Compiling the chip-tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-the-matter-accessory-device-mad-pre-built-binaries">Using the Matter Accessory Device (MAD) Pre-Built Binaries</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-the-matter-application">Building the Matter Application</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="BUILD_PI_ENV.html">Build Chip Tool on Raspi</a></li>
<li class="toctree-l2"><a class="reference internal" href="RUN_DEMO.html">Matter Demo on EFR32 NCP</a></li>
<li class="toctree-l2"><a class="reference internal" href="RUN_DEMO_SiWx917_SoC.html">Matter Demo on 917 SoC</a></li>
<li class="toctree-l2"><a class="reference internal" href="JLINK_GUIDE_917.html">Matter 917 SoC JLink RTT Debugger</a></li>
<li class="toctree-l2"><a class="reference internal" href="SiWx917_Enablement_For_Ozone.html">Enablement of Ozone for 917 SOC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nav_5_wifi_dic.html">Wi-Fi Direct Internet Connectivity</a></li>
<li class="toctree-l2"><a class="reference internal" href="WIFI_SLEEPY_END_DEVICE.html">Matter Intermittently Connected Devices over WiFi</a></li>
<li class="toctree-l2"><a class="reference internal" href="WIFI_SLEEPY_END_DEVICE.html#power-measurement">Power Measurement</a></li>
<li class="toctree-l2"><a class="reference internal" href="WIFI_Sleepy_Device_Power_Measurement.html">Wi-Fi ICD Power Measurement</a></li>
<li class="toctree-l2"><a class="reference internal" href="MATTER_SHELL.html">Matter Shell Console</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nav_5_wifi_ecosystem.html">Matter Ecosystem Development</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../nav_7_prod_guide.html">Matter Production Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unify/index.html">Unify Matter Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nav_3_general.html">Developer Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nav_6_faq.html">FAQ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #3b82f6" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Matter</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../nav_5_wifi.html">Matter Over Wi-Fi</a></li>
      <li class="breadcrumb-item active">Building a Wi-Fi End Device for Matter in GitHub</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/wifi/SW_SETUP.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="building-a-wi-fi-end-device-for-matter-in-github">
<h1>Building a Wi-Fi End Device for Matter in GitHub<a class="headerlink" href="#building-a-wi-fi-end-device-for-matter-in-github" title="Link to this heading"></a></h1>
<section id="software-setup">
<h2>Software Setup<a class="headerlink" href="#software-setup" title="Link to this heading"></a></h2>
<p>If you have not downloaded or cloned this repository, you can run the following
commands on a Linux terminal running on either Linux machine, WSL or Virtual
Machine to clone the repository and run bootstrap to prepare to build the sample
application images. Users may need to run the various commands as the root user or with certain privilges enabled.</p>
<ol class="arabic">
<li><p>To download the
<a class="reference external" href="https://github.com/SiliconLabs/matter.git">SiliconLabs Matter codebase</a> run
the following commands.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="w"> </span>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/SiliconLabs/matter.git
</pre></div>
</div>
</li>
<li><p>Bootstrapping:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>matter
$<span class="w"> </span>./scripts/checkout_submodules.py<span class="w"> </span>--shallow<span class="w"> </span>--recursive<span class="w"> </span>--platform<span class="w"> </span>efr32
$<span class="w"> </span>.<span class="w"> </span>scripts/bootstrap.sh
<span class="c1"># Create a directory where binaries will be updated/compiled called `out`</span>
$<span class="w"> </span>mkdir<span class="w"> </span>out
</pre></div>
</div>
</li>
<li><p>Troubleshooting the errors:</p>
<ol class="arabic">
<li><p>For resolving <a class="reference download internal" download="" href="../_downloads/3824657bd63adea4e7e248075fb03dff/git_submodule_error.png"><span class="xref download myst">Git Submodule Error</span></a>, run below command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--init<span class="w"> </span>--checkout
</pre></div>
</div>
</li>
<li><p>For resolving <a class="reference download internal" download="" href="../_downloads/66ed1abbaf7274d4ff6c977f23cf536f/Boostrapping_Error.png"><span class="xref download myst">Bootstrapping Error</span></a>, run below command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>prompt-toolkit
</pre></div>
</div>
</li>
</ol>
</li>
</ol>
</section>
<section id="compiling-the-chip-tool">
<h2>Compiling the chip-tool<a class="headerlink" href="#compiling-the-chip-tool" title="Link to this heading"></a></h2>
<p>In order to control the Wi-Fi Matter Accessory Device you will have to compile
and run the chip-tool on either a Linux, Mac or Raspberry Pi. The chip-tool builds
faster on the Mac and Linux machines so that is recommended, but if you have
access to a Raspberry Pi that will work as well.</p>
<ol class="arabic">
<li><p>Build the chip-tool</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./scripts/examples/gn_build_example.sh<span class="w"> </span>examples/chip-tool<span class="w"> </span>out/standalone
</pre></div>
</div>
<p>This will build chip-tool in <code class="docutils literal notranslate"><span class="pre">out/standalone</span></code>.</p>
</li>
</ol>
</section>
<section id="using-the-matter-accessory-device-mad-pre-built-binaries">
<h2>Using the Matter Accessory Device (MAD) Pre-Built Binaries<a class="headerlink" href="#using-the-matter-accessory-device-mad-pre-built-binaries" title="Link to this heading"></a></h2>
<p>If you are just running the Matter demo, and are not interested in building the
Matter Accessory Device images from scratch, you can download the MAD images for
Wi-Fi from this software release on the
<a class="reference internal" href="../general/ARTIFACTS.html"><span class="std std-doc">Matter Artifacts Page</span></a></p>
<p>Once you have downloaded the image you require for your device, you can skip
forward to the instructions for running the demo.</p>
<ul class="simple">
<li><p><strong>For EFR32MG24 host processors</strong></p>
<ul>
<li><p><a class="reference internal" href="RUN_DEMO.html"><span class="std std-doc">Running the Matter Demo for EFR32 device over Wi-Fi page</span></a></p></li>
</ul>
</li>
<li><p><strong>For SiWx917 SoC processor</strong></p>
<ul>
<li><p><a class="reference internal" href="RUN_DEMO_SiWx917_SoC.html"><span class="std std-doc">Running the Matter Demo for SiWx917 SoC device over Wi-Fi page</span></a></p></li>
</ul>
</li>
</ul>
<p>If you are planning to build the Wi-Fi images from scratch,
continue with this documentation.</p>
</section>
<section id="building-the-matter-application">
<h2>Building the Matter Application<a class="headerlink" href="#building-the-matter-application" title="Link to this heading"></a></h2>
<p>Depending on the host processdor used and the application required, select the appropriate build command :</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>matter
$<span class="w"> </span>&lt;run_appropriate_build_command_from_below&gt;
</pre></div>
</div>
<p>Syntax for the build command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./scripts/examples/gn_silabs_example.sh<span class="w"> </span>&lt;path<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>application<span class="w"> </span>code&gt;<span class="w"> </span>&lt;out<span class="w"> </span>folder<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>generated<span class="w"> </span>binary&gt;<span class="w"> </span>&lt;Device/HW<span class="w"> </span><span class="k">for</span><span class="w"> </span>which<span class="w"> </span>the<span class="w"> </span>binary<span class="w"> </span>is<span class="w"> </span>built&gt;<span class="w"> </span>&lt;build<span class="w"> </span>parameters<span class="w"> </span><span class="k">if</span><span class="w"> </span>required&gt;
</pre></div>
</div>
<blockquote>
<div><p><strong>Note:</strong></p>
<ol class="arabic simple">
<li><p>Build commands should not be executed under root user.</p></li>
<li><p>The build commands given below are for the <code class="docutils literal notranslate"><span class="pre">lighting-app</span></code> application.</p></li>
<li><p>In order to build applications other than the <code class="docutils literal notranslate"><span class="pre">lighting-app</span></code>, (such as <code class="docutils literal notranslate"><span class="pre">thermostat-app</span></code>, <code class="docutils literal notranslate"><span class="pre">lock-app</span></code>, <code class="docutils literal notranslate"><span class="pre">light-switch-app</span></code>, <code class="docutils literal notranslate"><span class="pre">window-app</span></code>, <code class="docutils literal notranslate"><span class="pre">onoff-plug-app</span></code>), substitute the appropriate application path in the build command.</p></li>
<li><p>Path to the sample application examples are provided in the <a class="reference external" href="https://github.com/SiliconLabs/matter/blob/latest/examples/">/examples</a> or <a class="reference external" href="https://github.com/SiliconLabs/matter/blob/latest/silabs_examples/">/silabs_examples</a> directory.</p></li>
<li><p>To build for EFR32MG24 / 917 SoC host processors, substitute <code class="docutils literal notranslate"><span class="pre">BRD41xxx</span></code> in the build command with the appropriate board number from the <a class="reference internal" href="../general/HARDWARE_REQUIREMENTS.html"><span class="std std-doc">Hardware Requirements Page</span></a>.</p></li>
</ol>
</div></blockquote>
<p>Build command for EFR32MG24 + RS9116:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./scripts/examples/gn_silabs_example.sh<span class="w"> </span>examples/lighting-app/silabs/<span class="w"> </span>out/rs911x_lighting<span class="w"> </span>BRD41xxx<span class="w"> </span>--wifi<span class="w"> </span>rs9116
</pre></div>
</div>
<p>Build command for EFR32MG24 + SiWx917:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./scripts/examples/gn_silabs_example.sh<span class="w"> </span>examples/lighting-app/silabs/<span class="w"> </span>out/siwx917_lighting<span class="w"> </span>BRD41xxx<span class="w"> </span><span class="nv">disable_lcd</span><span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="nv">use_external_flash</span><span class="o">=</span><span class="nb">false</span><span class="w"> </span>--wifi<span class="w"> </span>SiWx917
</pre></div>
</div>
<p>Build command for EFR32MG24 + WF200:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./scripts/examples/gn_silabs_example.sh<span class="w"> </span>examples/lighting-app/silabs/<span class="w"> </span>out/wf200_lighting<span class="w"> </span>BRD41xxx<span class="w"> </span><span class="nv">chip_build_libshell</span><span class="o">=</span><span class="nb">false</span><span class="w"> </span>--wifi<span class="w"> </span>wf200
</pre></div>
</div>
<p>Build command for SiWx917 SoC processor(common flash):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./scripts/examples/gn_silabs_example.sh<span class="w"> </span>examples/lighting-app/silabs/<span class="w"> </span>out/SiWx917_lighting<span class="w"> </span>BRD4338A
</pre></div>
</div>
<blockquote>
<div><p><strong>Note:</strong></p>
<ol class="arabic simple">
<li><p>If the build fails during the creation of the .rps file in WSL, then sym link commander with the proper path to the executable using below command and rebuild the application.</p></li>
</ol>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>.local/bin
ln<span class="w"> </span>-s<span class="w"> </span>&lt;commander_path&gt;/commander.exe<span class="w"> </span>commander
</pre></div>
</div>
</div></blockquote>
<p>Enable or disable the application’s features using the following build parameters.</p>
<ol class="arabic">
<li><p><code class="docutils literal notranslate"><span class="pre">segger_rtt_buffer_size_up</span></code> : Flag to get the complete logs without truncation.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./scripts/examples/gn_silabs_example.sh<span class="w"> </span>examples/lighting-app/silabs/<span class="w"> </span>out/rs911x_lighting<span class="w"> </span>BRD41xxx<span class="w"> </span><span class="nv">segger_rtt_buffer_size_up</span><span class="o">=</span><span class="m">2068</span><span class="w"> </span>--wifi<span class="w"> </span>rs9116
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">disable_lcd=true</span></code> : Use this flag while building to disable the LCD.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./scripts/examples/gn_silabs_example.sh<span class="w"> </span>examples/lighting-app/silabs/<span class="w"> </span>out/rs911x_lighting<span class="w"> </span>BRD41xxx<span class="w"> </span><span class="nv">disable_lcd</span><span class="o">=</span><span class="nb">true</span><span class="w"> </span>--wifi<span class="w"> </span>rs9116
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">show_qr_code=false</span></code> : Use this flag while building to disable the QR code.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./scripts/examples/gn_silabs_example.sh<span class="w"> </span>examples/lighting-app/silabs/<span class="w"> </span>out/rs911x_lighting<span class="w"> </span>BRD41xxx<span class="w"> </span><span class="nv">show_qr_code</span><span class="o">=</span><span class="nb">false</span><span class="w"> </span>--wifi<span class="w"> </span>rs9116
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p><strong>Note:</strong></p>
<ol class="arabic simple">
<li><p>QR code is enabled by default for all except MG24</p></li>
<li><p>QR code is disabled for MG24 because of lcd disable. It cannot be enabled using the flag.</p></li>
</ol>
</div></blockquote>
<ol class="arabic" start="4">
<li><p><code class="docutils literal notranslate"><span class="pre">chip_enable_wifi_ipv4</span></code> : Use this flag while building to enable IPV4 (disabled by default).</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>./scripts/examples/gn_silabs_example.sh<span class="w"> </span>examples/lighting-app/silabs/<span class="w"> </span>out/rs911x_lighting<span class="w"> </span>BRD41xxx<span class="w"> </span><span class="nv">chip_enable_wifi_ipv4</span><span class="o">=</span><span class="nb">true</span><span class="w"> </span>--wifi<span class="w"> </span>rs9116<span class="w"> </span>
</pre></div>
</div>
</li>
</ol>
<p>The generated software binaries can be found in the <code class="docutils literal notranslate"><span class="pre">out/</span></code> folder created during the build.
Once you have downloaded the binaries for your device, you can follow the instructions for running the demo.</p>
<ul class="simple">
<li><p><strong>For EFR32MG24 host processors</strong></p>
<ul>
<li><p><a class="reference internal" href="RUN_DEMO.html"><span class="std std-doc">Running the Matter Demo for EFR32 device over Wi-Fi page</span></a></p></li>
</ul>
</li>
<li><p><strong>For SiWx917 SoC processor</strong></p>
<ul>
<li><p><a class="reference internal" href="RUN_DEMO_SiWx917_SoC.html"><span class="std std-doc">Running the Matter Demo for SiWx917 SoC device over Wi-Fi page</span></a></p></li>
</ul>
</li>
</ul>
<p><strong>[Optional:</strong> Increasing stack size <strong>]</strong></p>
<p>Navigate to
<code class="docutils literal notranslate"><span class="pre">matter</span></code> and open the file in the path
<code class="docutils literal notranslate"><span class="pre">examples/platform/silabs/efr32/FreeRTOSConfig.h</span></code>. Find the macro:
`<code class="docutils literal notranslate"><span class="pre">configMINIMAL_STACK_SIZE</span></code>`, and change the macro value from <code class="docutils literal notranslate"><span class="pre">140</span></code> to
<strong><code class="docutils literal notranslate"><span class="pre">320</span></code></strong>.</p>
</section>
</section>


           </div>
          </div>
          <footer>
    <hr/>
    <p>Copyright © 2023 Silicon Laboratories. All rights reserved.</p>
</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XXXXXXXXXX', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>