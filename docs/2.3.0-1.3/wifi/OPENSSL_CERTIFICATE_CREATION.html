<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Openssl Certificate Creation &mdash; Matter 2.3.0-1.3 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom_styles.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=cdec6f82"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Matter Intermittently Connected Devices over WiFi" href="WIFI_SLEEPY_END_DEVICE.html" />
    <link rel="prev" title="Set Up MQTT Explorer" href="MQTT_EXPLORER_SETUP.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #3b82f6" >

          
          
          <a href="../index.html" class="icon icon-home">
            Matter
              <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.3.0-1.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../OVERVIEW.html">User's Guide Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NEW_FEATURES.html">Matter New Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nav_1_overview.html">Matter Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nav_2_prereq.html">Matter Development Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nav_4_thread.html">Matter Over Thread</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../nav_5_wifi.html">Matter Over Wi-Fi</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="DEMO_OVERVIEW.html">Wi-Fi Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="SW_SETUP.html">Wi-Fi GitHub Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="BUILD_PI_ENV.html">Build Chip Tool on Raspi</a></li>
<li class="toctree-l2"><a class="reference internal" href="RUN_DEMO.html">Matter Demo on EFR32 NCP</a></li>
<li class="toctree-l2"><a class="reference internal" href="RUN_DEMO_SiWx917_SoC.html">Matter Demo on 917 SoC</a></li>
<li class="toctree-l2"><a class="reference internal" href="JLINK_GUIDE_917.html">Matter 917 SoC JLink RTT Debugger</a></li>
<li class="toctree-l2"><a class="reference internal" href="SiWx917_Enablement_For_Ozone.html">Enablement of Ozone for 917 SOC</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../nav_5_wifi_dic.html">Wi-Fi Direct Internet Connectivity</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="DIC_Wi-Fi.html">What is DIC?</a></li>
<li class="toctree-l3"><a class="reference internal" href="BUILD_DIC.html">How to Build DIC</a></li>
<li class="toctree-l3"><a class="reference internal" href="MOSQUITTO_SETUP.html">MQTT Server with Mosquitto</a></li>
<li class="toctree-l3"><a class="reference internal" href="AWS_CONFIGURATION_REGISTRATION.html">MQTT Server with AWS</a></li>
<li class="toctree-l3"><a class="reference internal" href="MQTT_EXPLORER_SETUP.html">MQTT Explorer</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Open SSL for MQTT</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="WIFI_SLEEPY_END_DEVICE.html">Matter Intermittently Connected Devices over WiFi</a></li>
<li class="toctree-l2"><a class="reference internal" href="WIFI_SLEEPY_END_DEVICE.html#power-measurement">Power Measurement</a></li>
<li class="toctree-l2"><a class="reference internal" href="WIFI_Sleepy_Device_Power_Measurement.html">Wi-Fi ICD Power Measurement</a></li>
<li class="toctree-l2"><a class="reference internal" href="MATTER_SHELL.html">Matter Shell Console</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nav_5_wifi_ecosystem.html">Matter Ecosystem Development</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../nav_7_prod_guide.html">Matter Production Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unify/index.html">Unify Matter Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nav_3_general.html">Developer Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nav_6_faq.html">FAQ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #3b82f6" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Matter</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../nav_5_wifi.html">Matter Over Wi-Fi</a></li>
          <li class="breadcrumb-item"><a href="../nav_5_wifi_dic.html">Wi-Fi Direct Internet Connectivity</a></li>
      <li class="breadcrumb-item active">Openssl Certificate Creation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/wifi/OPENSSL_CERTIFICATE_CREATION.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="openssl-certificate-creation">
<h1>Openssl Certificate Creation<a class="headerlink" href="#openssl-certificate-creation" title="Link to this heading"></a></h1>
<p>An SSL certificate is an important way to secure user information and protect against hackers.</p>
<section id="openssl-installation-in-ubuntu">
<h2>Openssl Installation (In ubuntu)<a class="headerlink" href="#openssl-installation-in-ubuntu" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>To install openssl -  <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">openssl</span></code></p></li>
</ol>
</section>
<section id="certificates-creation">
<h2>Certificates Creation<a class="headerlink" href="#certificates-creation" title="Link to this heading"></a></h2>
<p>The following commands are used to generate certificates:</p>
<ol class="arabic simple">
<li><p>To generate CA key:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">openssl</span> <span class="pre">ecparam</span> <span class="pre">-name</span> <span class="pre">prime256v1</span> <span class="pre">-genkey</span> <span class="pre">-noout</span> <span class="pre">-out</span> <span class="pre">CA.key</span></code></p></li>
</ul>
</li>
<li><p>To generate CA certificate:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">openssl</span> <span class="pre">req</span> <span class="pre">-new</span> <span class="pre">-x509</span> <span class="pre">-days</span> <span class="pre">1826</span> <span class="pre">-key</span> <span class="pre">CA.key</span> <span class="pre">-out</span> <span class="pre">CA.crt</span></code></p></li>
</ul>
</li>
<li><p>To generate Client key:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">openssl</span> <span class="pre">ecparam</span> <span class="pre">-name</span> <span class="pre">prime256v1</span> <span class="pre">-genkey</span> <span class="pre">-noout</span> <span class="pre">-out</span> <span class="pre">device.key</span></code></p></li>
</ul>
</li>
<li><p>To generate Client certificate (ex: <code class="docutils literal notranslate"><span class="pre">device.crt</span></code> and <code class="docutils literal notranslate"><span class="pre">device.key</span></code>) using CA certficate:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">openssl</span> <span class="pre">req</span> <span class="pre">-new</span> <span class="pre">-out</span> <span class="pre">device.csr</span> <span class="pre">-key</span> <span class="pre">device.key</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">openssl</span> <span class="pre">x509</span> <span class="pre">-req</span> <span class="pre">-in</span> <span class="pre">device.csr</span> <span class="pre">-CA</span> <span class="pre">CA.crt</span> <span class="pre">-CAkey</span> <span class="pre">CA.key</span> <span class="pre">-CAcreateserial</span> <span class="pre">-out</span> <span class="pre">device.crt</span> <span class="pre">-days</span> <span class="pre">360</span></code></p></li>
</ul>
</li>
<li><p>To generate CA verification certification key:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">openssl</span> <span class="pre">genrsa</span> <span class="pre">-out</span> <span class="pre">verification_cert.key</span> <span class="pre">2048</span></code></p></li>
</ul>
</li>
<li><p>To generate Certificate Signing Request (CSR) file:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">openssl</span> <span class="pre">req</span> <span class="pre">-new</span> <span class="pre">-key</span> <span class="pre">verification_cert.key</span> <span class="pre">-out</span> <span class="pre">verification_cert_csr.csr</span></code>
<strong>NOTE:</strong></p></li>
<li><p>The information that the openssl command prompts you for is shown in the following example. Except for the Common Name field, you can enter your own values or keep them blank.</p></li>
<li><p>In the Common Name field, paste the registration code from the Verification certificate container of the AWS IoT console. Reference Image <a class="reference download internal" download="" href="../_downloads/003bc9db46aa878172df577b4d85fd77/openssl_csr_common_name_ref.png"><span class="xref download myst">to add registration code</span></a>.</p></li>
</ul>
</li>
<li><p>To generate CA verification certificate:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">openssl</span> <span class="pre">x509</span> <span class="pre">-req</span> <span class="pre">-in</span> <span class="pre">verification_cert_csr.csr</span> <span class="pre">-CA</span> <span class="pre">CA.crt</span> <span class="pre">-CAkey</span> <span class="pre">CA.key</span> <span class="pre">-CAcreateserial</span> <span class="pre">-out</span> <span class="pre">verification_cert.pem</span> <span class="pre">-days</span> <span class="pre">500</span> <span class="pre">-sha256</span></code></p></li>
</ul>
</li>
<li><p>Repeat step 3 and 4 to create an additional set of certificate to use in MQTT explorer (ex: <code class="docutils literal notranslate"><span class="pre">explorer.crt</span></code> and <code class="docutils literal notranslate"><span class="pre">explorer.key</span></code>). (Create with different name for Identification).</p></li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer>
    <hr/>
    <p>Copyright © 2023 Silicon Laboratories. All rights reserved.</p>
</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XXXXXXXXXX', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>